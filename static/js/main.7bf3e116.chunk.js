(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,r){e.exports=r(24)},19:function(e,t,r){},21:function(e,t,r){},22:function(e,t,r){},23:function(e,t,r){},24:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(5),o=r.n(s),c=(r(19),r(10)),i=r(2),m=r.n(i),u=r(3),l=r(6),p=r(11),d=r(7),f=r(8),h=r(12),v=r(9),b=r(1),g=r(13);var O=function(e){var t=e.user;return a.a.createElement("div",{className:"post__author author"},a.a.createElement("a",{className:"user__name name",href:"mailto:".concat(t.email)},t.name),a.a.createElement("br",null),a.a.createElement("span",{className:"user__address address"},"".concat(t.address.street," ").concat(t.address.suite,", ").concat(t.address.city)))};r(21);var E=function(e){var t=e.comment;return a.a.createElement("div",{className:"comment"},a.a.createElement("a",{className:"comment__author author",href:"mailto:".concat(t.email)},t.name),a.a.createElement("p",{className:"comment__text text"},t.body))};r(22);var j=function(e){var t=e.comments;return a.a.createElement("div",{className:"post__comments comments"},t.map(function(e){return a.a.createElement(E,{comment:e,key:e.id})}))};r(23);var y=function(e){var t=e.post;return a.a.createElement("li",{className:"post"},a.a.createElement("h1",{className:"post__heading heading"},t.title),a.a.createElement("p",{className:"post__text text"},t.body),a.a.createElement(O,{user:t.user}),a.a.createElement(j,{comments:t.comments}))};var w=function(e){var t=e.posts;return a.a.createElement("ul",{className:"list"},t.map(function(e){return a.a.createElement(y,{post:e,key:e.id})}))};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var N=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(h.a)(this,Object(v.a)(t).call(this,e))).getPostsWithUsersAndComments=function(e,t,r){var n=new Map,a=new Map;return t.forEach(function(e){n.set(e.id,e)}),r.forEach(function(e){var t=a.get(e.postId);if(t){var r=Object(p.a)(t);r.push(e),a.set(e.postId,r)}else{var n=[];n.push(e),a.set(e.postId,n)}}),e.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(r,!0).forEach(function(t){Object(l.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{user:n.get(e.userId),comments:a.get(e.id)})})},r.getDataFromServer=function(){var e=Object(u.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then(function(e){return e.json()}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.state={users:null,posts:null,comments:null,isLoading:!1},r.usersUrl="https://jsonplaceholder.typicode.com/users",r.postsUrl="https://jsonplaceholder.typicode.com/posts",r.commentsUrl="https://jsonplaceholder.typicode.com/comments",r.loadTodos=r.loadTodos.bind(Object(b.a)(r)),r.getTodosWithUsers=r.getPostsWithUsersAndComments.bind(Object(b.a)(r)),r.getDataFromServer=r.getDataFromServer.bind(Object(b.a)(r)),r}return Object(g.a)(t,e),Object(f.a)(t,[{key:"loadTodos",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,r,n,a,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,Promise.all([this.getDataFromServer(this.usersUrl),this.getDataFromServer(this.postsUrl),this.getDataFromServer(this.commentsUrl)]);case 3:t=e.sent,r=Object(c.a)(t,3),n=r[0],a=r[1],s=r[2],this.setState({users:n,posts:a,comments:s,isLoading:!1});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.users,r=e.posts,n=e.comments,s=e.isLoading;return t&&r&&n?a.a.createElement(w,{posts:this.getTodosWithUsers(r,t,n)}):a.a.createElement("button",{type:"button",onClick:this.loadTodos},s?"Loading...":"Load")}}]),t}(n.Component);var D=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Dynamic list of posts"),a.a.createElement(N,null))};o.a.render(a.a.createElement(D,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.7bf3e116.chunk.js.map